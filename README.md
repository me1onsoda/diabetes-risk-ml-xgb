
-----

````markdown
# SaveUs — 식단 영양 위험도 분석 AI 모델 🥗

> **"내가 오늘 먹은 식단, 혈당 건강에 얼마나 위험할까?"** > 국민건강영양조사 데이터를 학습하여, 식습관 기반의 당뇨 위험도를 예측하고 '건강 점수'를 산출하는 머신러닝 프로젝트입니다.

<br>

## 1. 프로젝트 개요
이 프로젝트는 단순한 혈당 수치 예측을 넘어, **사용자의 식단이 혈당 건강에 미치는 실질적인 위험도**를 분석합니다.

- **핵심 목표**: 사용자가 기록한 식단만으로 즉시 위험도를 분석하여, 식습관 개선을 위한 직관적인 피드백(0~100점) 제공
- **데이터셋**: 국민건강영양조사(KNHANES) 2020~2023년 데이터 활용
- **기술적 특징**: **XGBoost의 단조 제약 조건(Monotonic Constraints)**을 적용하여, 영양학적 상식(예: 당류 섭취 증가 → 위험도 증가)과 모델 예측의 논리적 일관성 확보

<br>

## 2. 핵심 기능 및 로직

### 📊 1) 데이터 전처리 (Data Preprocessing)
* **대상 필터링**: 만 19세 이상 성인 중, **당뇨 기진단자를 제외**하여 '식습관으로 인해 위험해질 수 있는 잠재군'을 타겟팅
* **파생 변수 생성**:
    * 칼로리/나트륨/단백질 권장량 대비 충족률
    * 탄수화물 내 당류 비율, 총 칼로리 내 지방 비율 등 영양 균형 지표 생성

### 🤖 2) AI 모델링 (XGBoost with Constraints)
영양 성분이 혈당에 미치는 영향을 논리적으로 반영하기 위해 모델에 제약 조건을 설정했습니다.
* **Target**: 공복혈당 100mg/dL 이상 (전당뇨 및 위험군)
* **Risk Factors (+)**: 나이, BMI, 칼로리, 나트륨, 당류, 지방, 탄수화물 (수치 증가 시 위험도 증가)
* **Protective Factors (-)**: 단백질 (근손실 방지 및 혈당 완충 효과 고려)

### 💯 3) 페어 스코어링 시스템 (Fair Diet Score)
단순 확률값이 아닌, 일반인 기준의 **상대평가 점수**를 제공합니다.
1. **Avatar Comparison**: 52세 남성(BMI 26) 기준의 '가상 아바타'에게 내 식단을 적용했을 때의 위험도 산출
2. **Scoring**: 전체 데이터 분포(Min-Max, Top 10%)를 기반으로 0~100점 환산
    * **80~100점**: 매우 훌륭함 (안심) 🟢
    * **50~79점**: 주의 필요 (개선 권장) 🟡
    * **50점 미만**: 위험 (경고) 🔴

<br>

## 3. 프로젝트 구조 (Project Structure)

```bash
├── hn20_all.sas7bdat      # (학습 데이터) 국민건강영양조사 2020
├── ...                    # (학습 데이터) 2021~2023 데이터 파일
├── texct_scoreing.py      # [Main] 전처리, 모델 학습, 점수 산출 스크립트
├── diabetes_risk_model.pkl # [Output] 학습 완료된 모델 파일
└── README.md              # 프로젝트 문서
````

<br>

## 4\. 설치 및 실행 (Getting Started)

### 1\) 요구 사항 설치

```bash
pip install pandas numpy xgboost scikit-learn joblib
```

### 2\) 데이터 준비

프로젝트 폴더에 국민건강영양조사 데이터 파일(`.sas7bdat`)을 위치시킵니다.

### 3\) 실행

```bash
python texct_scoreing.py
```

스크립트를 실행하면 데이터 로드, 전처리, 모델 학습이 진행되며 최종적으로 시뮬레이션 결과가 출력됩니다.

<br>

## 5\. 시뮬레이션 결과 (Simulation)

실제 코드 실행 시 출력되는 페르소나별 분석 예시입니다.

| 사용자 케이스 | 식단 특징 | 점수 | AI 분석 결과 |
| :--- | :--- | :---: | :--- |
| **User A (샐러드)** | 저염, 고단백, 저당 | **95점** | "완벽합니다\! 대사질환 걱정 없는 식단입니다." |
| **User B (마라탕)** | 고나트륨, 고당류 | **30점** | "경고\! 혈당 위험군 식단과 매우 유사합니다." |
| **User C (한식백반)** | 고나트륨, 고탄수 | **65점** | "주의가 필요합니다. 나트륨을 조금 줄여보세요." |
| **User F (벌크업)** | 초고단백, 과식 | **60점** | "식단 구성은 좋으나, 과식은 혈당에 부담을 줍니다." |

-----

*Developed by [Me1onSoda]*

```

### 💡 수정 포인트 설명 (이렇게 바뀐 것입니다)

1.  **헤더(Header) 강화**: 단순 텍스트 제목 대신 이모지(🥗)와 인용구(`>`)를 사용하여 서비스의 슬로건을 강조했습니다.
2.  **가독성 개선**: 줄글로 되어 있던 '기능' 설명을 **번호 매기기**와 **볼드체**를 사용해 구조화했습니다.
3.  **점수 구간 시각화**: 점수대별(80점 이상, 50점 미만 등) 의미를 색상 원(🟢, 🔴)을 사용해 직관적으로 표현했습니다.
4.  **폴더 구조 추가**: 파일이 어떻게 구성되어 있는지 트리 구조로 보여주어 개발자가 이해하기 쉽게 만들었습니다.
5.  **테이블 정리**: 시뮬레이션 결과를 표(Table) 형태로 깔끔하게 정리했습니다.

이 내용을 그대로 `README.md` 파일에 덮어씌우시면 훨씬 보기 좋을 것입니다.
```
